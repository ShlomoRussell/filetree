(()=>{"use strict";var __webpack_modules__={580:(e,t,n)=>{n.d(t,{NN:()=>d,Ou:()=>l,Yy:()=>s,aU:()=>u,nj:()=>o,nu:()=>i,vd:()=>c,z8:()=>r});const a=null!=process?process.env.baseUrl:"/";function o(e){return fetch(`${a}/folder/`,{method:"POST",body:JSON.stringify({folderPath:e}),headers:{"Content-Type":"application/json"}})}function r(e){return fetch(`${a}/file`,{method:"POST",body:JSON.stringify({filePath:e}),headers:{"Content-Type":"application/json"}})}function i(e){return fetch(`${a}/file`,{headers:{filePath:e}})}function l(e,t){return fetch(`${a}/file/save`,{method:"POST",body:JSON.stringify({filePath:e,fileContents:t}),headers:{"Content-Type":"application/json"}})}function c(){return fetch(`${a}/folder/directoryList`)}function d(e){return fetch(`${a}/file`,{method:"DELETE",body:JSON.stringify({path:e}),headers:{"Content-Type":"application/json"}})}function s(e){return fetch(`${a}/folder`,{method:"DELETE",body:JSON.stringify({path:e}),headers:{"Content-Type":"application/json"}})}function u(e,t){return fetch(`${a}/file`,{method:"PUT",body:JSON.stringify({oldPath:e,newPath:t}),headers:{"Content-Type":"application/json"}})}},763:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>insertFiletoEditor});var _fetch_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(580),_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(117);const textEditorElement=document.createElement("pre");textEditorElement.contentEditable=!0,textEditorElement.className="h-50";const editorHeaderElement=document.createElement("div");editorHeaderElement.className="d-flex justify-content-between mb-3";const filenameElement=document.createElement("p"),runButtonElement=document.createElement("button");runButtonElement.className="btn btn-secondary",runButtonElement.addEventListener("click",runTerminal,{capture:!0}),runButtonElement.innerText="Run ❯";const saveButtonElement=document.createElement("button");async function insertFiletoEditor(e){const t=document.getElementById("text-editor-container"),n=e.includes("/")?e.split("/").slice(-1).join():e;if(filenameElement.innerText!==n)try{(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.i)(t),textEditorElement&&editorHeaderElement&&(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.i)(textEditorElement),filenameElement.innerText=n;const a=await(0,_fetch_js__WEBPACK_IMPORTED_MODULE_0__.nu)(e).then((async e=>{const t=await e.text();return t.split("\n").forEach((e=>{const t=document.createElement("div");t.innerText=e,textEditorElement.append(t)})),t}));textEditorElement.dataset.path=e,t.append(editorHeaderElement,textEditorElement),openTerminal(n,a),textEditorElement.focus()}catch(e){console.log(e)}}let terminal;async function openTerminal(e,t){terminal&&(0,_util_js__WEBPACK_IMPORTED_MODULE_1__.i)(terminal),"js"===e.split(".")[1]?(terminal=document.createElement("div"),terminal.className="terminal h-50 w-100",runTerminal()):(terminal=document.createElement("iframe"),terminal.srcdoc=t,terminal.style.display="block",terminal.className="terminal h-50 w-100"),document.getElementById("text-editor-container").append(terminal)}function runTerminal(){"DIV"===terminal.tagName?terminal.innerText=JSON.stringify(eval(textEditorElement.innerText.replace(/console.log/g,"")))||null:terminal.srcdoc=textEditorElement.innerText}async function saveFileContents(){try{await(0,_fetch_js__WEBPACK_IMPORTED_MODULE_0__.Ou)(textEditorElement.dataset.path,textEditorElement.innerText.replace(/&lt;/g,"<").replace(/&gt;/g,">"))}catch(e){console.log(e)}}saveButtonElement.className="btn btn-primary",saveButtonElement.addEventListener("click",saveFileContents,{capture:!0}),saveButtonElement.innerText="Save",editorHeaderElement.append(runButtonElement,filenameElement,saveButtonElement),textEditorElement.addEventListener("keyup",(function(e){}))},117:(e,t,n)=>{function a(e){for(;e.firstChild;)e.removeChild(e.lastChild)}n.d(t,{i:()=>a})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{var e=__webpack_require__(580),t=__webpack_require__(763),n=__webpack_require__(117);const a=document.querySelector("body"),o=document.createElement("div");function r(n,a){const o=document.createElement("form"),r=document.createElement("input");r.type="text",r.dataset.id=n,o.append(r),document.querySelector(`#${n} ul`).append(o),o[0].focus(),o.addEventListener("submit",(async function(n){if(n.preventDefault(),!this[0].value)return o[0].blur();if("file"===a){const n=await s(a,this[0].dataset.id,this[0].value);await(0,e.z8)(n),await(0,t.r)(n)}else if("folder"===a){const t=await s(a,this[0].dataset.id,this[0].value);await(0,e.nj)(t)}this.reset(),o[0].blur()})),o[0].addEventListener("blur",(e=>o.remove()))}function i(e){e.preventDefault();const{clientX:t,clientY:n}=e,a=e.target.id||e.target.dataset.id,o=e.target.className;o.includes("folder")&&l(a,t,n,"folder"),o.includes("file")&&l(a,t,n,"file")}function l(t,n,i,l){c(),o.style.top=`${i}px`,o.style.left=`${n}px`;const d={folder:[{text:"New File",action:()=>r(t,"file")},{text:"New Folder",action:()=>r(t,"folder")}],file:[{text:"Rename",action:()=>async function(t){const n=document.getElementById(t);try{await(0,e.aU)(n.dataset.path)}catch(e){console.log(e)}}(t)}],all:[{text:"Delete",action:()=>async function(t){const n=document.getElementById(t);try{"file"===n.className?await(0,e.NN)(n.dataset.path):await(0,e.Yy)(n.dataset.path),n.remove()}catch(e){console.log(e)}}(t)}]};d[l].concat(d.all).forEach((e=>{const t=document.createElement("div");t.innerText=e.text,t.addEventListener("click",e.action),o.append(t)})),o.querySelectorAll("div").forEach((e=>e.className="item")),a.append(o)}function c(){(0,n.i)(o),o.remove()}function d(e){const n=e.target.id||e.target.dataset.id;if("context-menu"!==n&&o.childElementCount)c();else{if(!n)return;if("file-span"===e.target.className){const n=e.target.dataset.path?e.target.dataset.path:e.target.innerText;(0,t.r)(n)}else"add-folder"===n||"add-file"===n?function(e){try{const t=document.getElementById("root-folder").querySelector("span.active");t&&t.className.includes("folder")?r(t.dataset.id,e):r("root-folder",e)}catch(e){console.log(e)}}(n.split("-")[1]):function(e){if(!e.startsWith("folder"))return;const t=document.getElementById(e),n=document.querySelector(`#${e} ul`);n&&"none"!==n.style.display?(n.style.display="none",t.className="folder"):n&&(n.style.display="block",t.className="open-folder")}(n)}var a;"SPAN"===e.target.tagName&&(a=n,document.getElementById("root-folder").querySelectorAll("span").forEach((e=>{e.dataset.id===a?e.classList.add("active"):e.classList.remove("active")})))}async function s(e,t="root-folder",n){try{const a=document.querySelector(`#${t}`),o="root-folder"===a.id?n:`${a.dataset.path}/${n}`,r="folder"===e?"open-folder":"file",i="folder"===e?"folder-span":"file-span",l=document.createElement("li");l.className=r,l.id=`${e}${crypto.randomUUID()}`,l.dataset.path=o;const c=document.createElement("span");if(c.innerText=n,c.dataset.id=l.id,c.dataset.path=o,c.className=i,l.append(c),"folder"===e){const e=document.createElement("ul");l.append(e)}return a.querySelector("ul").append(l),o}catch(e){console.log(e)}}o.id="context-menu",window.onload=function(){const t=document.getElementById("root");t.append(function(){const e=document.createElement("p");return e.className="mx-auto",e.style.width="fit-content",e.innerText="Right click on a file or folder to add or remove!",e}(),function(){const t=document.createElement("div");return t.className="container",t.style.height="90%",t.appendChild(function(){const t=document.createElement("div");return t.className="row h-100 p-0",t.append(function(){const e=document.createElement("div");return e.id="root-folder-container",e.className="col-3 h-100",e.style.maxWidth="25%",e.addEventListener("contextmenu",i),e.append(function(){const e=document.createElement("div");return e.className="d-flex justify-content-end",[{id:"add-file",title:"New File"},{id:"add-folder",title:"New Folder",alt:"add folder"},{id:"refresh-explorer",title:"Refresh Explorer"},{id:"collapse-folders",title:"Collapse Folders in Explorer"}].forEach((t=>{const n=document.createElement("button");n.id=t.id,n.className="btn m-1 p-0",n.title=t.title,e.append(n)})),e}(),function(){const e=document.createElement("ul");e.id="root-folder";const t=document.createElement("ul");return t.className="folder",e.appendChild(t),e}()),e}(),function(){const e=document.createElement("div");return e.className="col  mb-3",e.id="text-editor-container",e}()),async function(){try{var t;function n(e){let a;e.forEach((async e=>{if(t&&(a=document.querySelector(`[data-path='${t}']`).id),"string"!=typeof e)return"object"!=typeof e||Array.isArray(e)?n(e):(t=await s("folder",a,Object.keys(e)),n(Object.values(e)));await s("file",a,e)}))}n(await(0,e.vd)().then((e=>e.json())))}catch(a){console.log(a)}}(),t}()),t}()),t.onclick=d}})()})();